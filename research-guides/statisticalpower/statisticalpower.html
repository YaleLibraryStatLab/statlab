<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Claudia Mastrogiacomo">
<meta name="author" content="Co-author Name">
<meta name="dcterms.date" content="2025-10-20">
<meta name="keywords" content="<p>List relevant keywords that describe the content of the research guide. Examples include research methods, statistical software, data analysis, etc.</p>">

<title>Statistical Power</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="statisticalpower_files/libs/clipboard/clipboard.min.js"></script>
<script src="statisticalpower_files/libs/quarto-html/quarto.js"></script>
<script src="statisticalpower_files/libs/quarto-html/popper.min.js"></script>
<script src="statisticalpower_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="statisticalpower_files/libs/quarto-html/anchor.min.js"></script>
<link href="statisticalpower_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="statisticalpower_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="statisticalpower_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="statisticalpower_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="statisticalpower_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Statistical Power</h1>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Authors</div>
  <div class="quarto-title-meta-heading">Affiliations</div>
  
    <div class="quarto-title-meta-contents">
    <a href="https://authorwebpage1.com">Claudia Mastrogiacomo</a> 
  </div>
    <div class="quarto-title-meta-contents">
        <p class="affiliation">
            Yale University
          </p>
      </div>
      <div class="quarto-title-meta-contents">
    <a href="https://authorwebpage2.com">Co-author Name</a> 
  </div>
    <div class="quarto-title-meta-contents">
        <p class="affiliation">
            Affiliation 2
          </p>
      </div>
    </div>

<div class="quarto-title-meta">

      
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">October 20, 2025</p>
    </div>
  </div>
  
    
  </div>
  
<div>
  <div class="abstract">
    <div class="abstract-title">Abstract</div>
    <p>A brief summary of statistical power. Learn how to calculate power, sample size, and minimum detectable effect.</p>
  </div>
</div>

</header>

<div class="cell">

</div>
<section id="introduction" class="level1">
<h1>Introduction</h1>
<section id="power" class="level2">
<h2 class="anchored" data-anchor-id="power">Power</h2>
<p>Statistical power is the probability of detecting an effect, given there actually is an effect. It is a function of significance level, sample size, and effect size. If you are designing a study, power calculations can be used to determine what sample size is necessary to detect a certain effect. If you are analyzing data, you can determine what the power of the study was, given the sample size used, or what the minimum detectable effect was, given a desired power level.</p>
</section>
<section id="type-i-and-type-ii-errors" class="level2">
<h2 class="anchored" data-anchor-id="type-i-and-type-ii-errors">Type I and Type II Errors</h2>
<p>In hypothesis testing, there can be two types of errors: Type I errors and Type II errors. A Type I error is a false positive and occurs when you reject the null when the null is actually true, i.e.&nbsp;you conclude there is an effect when there is not one. A Type II error is a false negative and occurs when you fail to reject the null when the null is not true, i.e.&nbsp;you do not detect an effect when there is one. By choosing a power level, we are controlling the Type II error rate.</p>
</section>
</section>
<section id="methods" class="level1">
<h1>Methods</h1>
<section id="inputs-in-power-calculations" class="level2">
<h2 class="anchored" data-anchor-id="inputs-in-power-calculations">Inputs in Power Calculations</h2>
<section id="significance-level" class="level3">
<h3 class="anchored" data-anchor-id="significance-level">Significance Level</h3>
<p>The significance level, <span class="math inline">\(\alpha\)</span>, is the probability of a Type I error, i.e., how often are you willing to get a false positive. A false positive means you detect an effect when there actually is no effect. A common choice is <span class="math inline">\(\alpha = 0.05\)</span>, meaning you would falsely reject the null 5% of the time when the null is actually true.</p>
<p>Increasing <span class="math inline">\(\alpha\)</span> increases power.</p>
</section>
<section id="power-level" class="level3">
<h3 class="anchored" data-anchor-id="power-level">Power Level</h3>
<p>Power level is the probability of being able to detect an actual effect. It is often denoted by <span class="math inline">\(1-\beta\)</span> where <span class="math inline">\(\beta\)</span> is the Type II Error (the probability of a false negative).</p>
</section>
<section id="sample-size" class="level3">
<h3 class="anchored" data-anchor-id="sample-size">Sample Size</h3>
<p>Sample size is the number of units in a study. Increasing sample size increases power.</p>
</section>
<section id="effect-size" class="level3">
<h3 class="anchored" data-anchor-id="effect-size">Effect Size</h3>
<p>In order to calculate power or sample size, you need to choose a Minimum Detectable Effect (MDE). This is the smallest effect that you can detect for a given sample size and power level. A larger effect will be easier to detect with a smaller sample, while a smaller effect will be require a larger sample. It is usually best to choose this based on study context. What would be a scientifically meaningful effect? For example, if studying whether a new drug improves outcomes over an existing drug, what amount of improvement would justify switching to the new drug?</p>
</section>
</section>
</section>
<section id="implementation" class="level1">
<h1>Implementation</h1>
<section id="example-two-sample-z-test" class="level2">
<h2 class="anchored" data-anchor-id="example-two-sample-z-test">Example: Two-Sample Z-Test</h2>
<p>Consider a study to determine if a new drug reduces the changes of complications during a surgery. The complication is known to happen <span class="math inline">\(20\%\)</span> of the time. A hospital will start giving the drug to surgical patients if it can be shown to reduce the occurrence of complications to at most <span class="math inline">\(15\%\)</span>. We are interested in the sample size necessary to detect this reduction with <span class="math inline">\(80\%\)</span> power and a significance level of 0.05.</p>
<p><span class="math display">\[
N = \left(Z_{\alpha} + Z_{\beta}\right)^2 \times \left(\frac{p_0(1-p_0) + p_1(1-p_1)}{(p_0 - p_1)^2}\right)
\]</span></p>
<p>We can find the Z score corresponding to a given significance level, <span class="math inline">\(Z_{\alpha}\)</span>, and power, <span class="math inline">\(Z_{\beta}\)</span>, using a standard normal <a href="https://math.arizona.edu/~rsims/ma464/standardnormaltable.pdf">table</a>. Note that for a two-sided test, you want to use <span class="math inline">\(Z_{\alpha/2}\)</span>.</p>
<p><span class="math display">\[
N = \left(1.645 + 0.842\right)^2 \times \left(\frac{0.20(1-0.20) + 0.15(1-0.15)}{(0.20 - 0.15)^2}\right) \approx 711
\]</span></p>
<p>This tells us that, for our desired power, significance level, and minimum detectable effect, we would need 711 observations per sample.</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" href="">R Example</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false" href="">Python Example</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"pwr"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in contrib.url(repos, "source"): trying to use CRAN without setting a mirror</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(pwr)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">pwr.2p.test</span>(<span class="at">h=</span><span class="fu">ES.h</span>(<span class="fl">0.20</span>, <span class="fl">0.15</span>), </span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">sig.level=</span><span class="fl">0.05</span>, </span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">power=</span><span class="fl">0.8</span>, </span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">alternative=</span><span class="st">"greater"</span>, </span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">n=</span><span class="cn">NULL</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
     Difference of proportion power calculation for binomial distribution (arcsine transformation) 

              h = 0.1318964
              n = 710.7753
      sig.level = 0.05
          power = 0.8
    alternative = greater

NOTE: same sample sizes</code></pre>
</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell" data-python.reticulate="false">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Python code here</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Hello Python"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Hello Python</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="example-linear-regression-coefficient" class="level2">
<h2 class="anchored" data-anchor-id="example-linear-regression-coefficient">Example: Linear Regression Coefficient</h2>
<p>Consider a study looking at the relationship between diet and cholesterol. We are interested in whether consumption of red meat (measured in average oz per week) is significantly associated with cholesterol levels (measured in mg/dl). We plan to control for age, sex, alcohol consumption, and smoking. Based on existing literature, we believe that eating an additional 8oz serving of red meat a week may be associated with a 5 mg/dl increase in cholesterol. Also based on existing literature, we believe that these covariates should explain about 30% of the variation in cholesterol.</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true" href="">R Example</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false" href="">Python Example</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false" href="">Stata Example</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"pwrss"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in contrib.url(repos, "source"): trying to use CRAN without setting a mirror</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(pwrss)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'pwrss'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:stats':

    power.t.test</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pwrss.t.regression</span>(<span class="at">beta1 =</span> <span class="fl">0.625</span>,</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>                   <span class="at">alpha =</span> <span class="fl">0.05</span>,</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">k =</span> <span class="dv">5</span>, </span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">r2 =</span> <span class="fl">0.30</span>,</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>                   <span class="at">power =</span> <span class="fl">0.95</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: possibly incongruent arguments, need a larger 'r2'</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code> Linear Regression Coefficient (t Test) 
 H0: beta1 = beta0 
 HA: beta1 != beta0 
 ------------------------------ 
  Statistical power = 0.95 
  n = 26 
 ------------------------------ 
 Alternative = "not equal" 
 Degrees of freedom = 19.802 
 Non-centrality parameter = 3.794 
 Type I error rate = 0.05 
 Type II error rate = 0.05 </code></pre>
</div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell" data-python.reticulate="false">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Python code here</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Hello Python"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Hello Python</code></pre>
</div>
</div>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="kw">display</span> <span class="st">"Hello Stata"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="interpretation" class="level1">
<h1>Interpretation</h1>
<p>Summarize the key points and implications of the research.</p>
</section>
<section id="faqs" class="level1">
<h1>FAQs</h1>
<p>FAQs should focus on special cases, judgments, and interpretations that require additional clarification. For example, for count models an appopriate FAQ could be:</p>
<section id="i-am-using-graphpad-prism-how-can-i-calculate-powersample-size" class="level3">
<h3 class="anchored" data-anchor-id="i-am-using-graphpad-prism-how-can-i-calculate-powersample-size"><em>I am using GraphPad Prism, how can I calculate power/sample size?</em></h3>
<p>Sample size and power calculations can be performed using Prism Cloud: https://www.graphpad.com/support/faq/can-prism-perform-sample-size-and-power-calculations/.</p>
</section>
<section id="i-am-not-using-a-statistical-software-how-can-i-calculate-powersample-size" class="level3">
<h3 class="anchored" data-anchor-id="i-am-not-using-a-statistical-software-how-can-i-calculate-powersample-size"><em>I am not using a statistical software, how can I calculate power/sample size?</em></h3>
<p>Depending on your planned analysis, you can either find the necessary formulas and calculate manually, or find an online calculator. Below are some online calculators for different analyses:</p>
<ul>
<li><p><a href="https://homepage.univie.ac.at/robin.ristl/samplesize.php?test=anova">Two-sample t-Test, Paired t-Test, ANOVA, Wilcoxon Test, Single Proportion, Chi-Squared Test, Fisher’s Exact Test, McNemar’s Test, Logrank Test, and Correlation Test</a></p></li>
<li><p><a href="https://www.statskingdom.com/sample_size_regression.html">Regression and ANOVA</a></p></li>
<li><p><a href="https://sample-size.net/all-calculators-on-this-site/">Logistic Regression and Proportional Hazards Model</a></p></li>
</ul>
</section>
</section>
<section id="references" class="level1">
<h1>References</h1>
<ul>
<li>List all references here. References should have a corresponding .bib file and be formatted according to Chicago</li>
<li>https://www.sciencedirect.com/science/article/pii/S0197245698000373?via%3Dihub</li>
<li>https://pubmed.ncbi.nlm.nih.gov/9875838/</li>
</ul>
</section>
<section id="appendix" class="level1">
<h1>Appendix</h1>
<p>Include any additional material or supplementary information here.</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>